<div class="flex flex-col gap-4">

  <div class="flex items-center justify-between space-x-2 flex-start pt-10 px-32">
    <h1 class="flex items-center gap-5 text-rentazul">
      <b><span class="text-5xl">Imóveis</span></b>
      <img width="20" height="20" src="https://img.icons8.com/ios-filled/50/021e43/forward--v1.png" alt="forward--v1"/>
      <span class="text-4xl" *ngIf="idImovel == null">Cadastro</span>
      <span class="text-4xl" *ngIf="idImovel > 0">Edição</span>
    </h1>
    <img src="https://i.imgur.com/brCEmd5.png" alt="Logo Renttavel" class="w-72 h-16">
  </div>

  <form (ngSubmit)="salvar()" #form="ngForm">
    <div class="flex items-center justify-center">
      <div class="bg-rentbranco flex flex-col px-10 py-5 gap-5 border border-rentcinza w-5/12 rounded-3xl shadow-lg">
        <div class="flex flex-col gap-y-3 text-rentazul">
          <div class="flex gap-3 items-center">
            <b><label class="text-xl">Nome</label></b>
            <div *ngIf="form.submitted && !imovel.nome"  class="text-red-600 text-sm">Campo obrigatório.</div>
          </div>
          <input [(ngModel)]="imovel.nome" class="form-input border border-rentcinza rounded-xl py-3 px-3 text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg" type="text" name="Nome" placeholder="Casa na Árvore..."
                  [ngClass]="{
                    'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.nome
                  }">
        </div>
        <div class="flex flex-col gap-y-3 text-rentazul">
          <div class="flex gap-5 items-center">
            <b><label class="text-xl">Tipo do imóvel</label></b>
            <div *ngIf="form.submitted && !imovel.tipo"  class="text-red-600 text-sm">Campo obrigatório.</div>
          </div>
          <div class="flex justify-start gap-x-5">
            <input type="radio" name="tipo" [(ngModel)]="imovel.tipo" value=1 class="form-input hidden" id="tipoCasa">
            <label id="tipo" for="tipoCasa" class="form-control flex flex-col border flex-1 px-4 py-3 gap-y-6 rounded-2xl hover:cursor-pointer select-none"
                    [ngClass]="{
                      'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.tipo,
                      'border-rentazul ring-2 ring-rentazul shadow-lg': imovel.tipo == 1,
                      'border-rentcinza': imovel.tipo != 1
                    }">
              <img width="40" height="40" src="https://img.icons8.com/fluency-systems-regular/40/021e43/home--v1.png" alt="home--v1"/>
              <span class="ml-1 text-lg">Casa</span>
            </label>
            <input type="radio" name="tipo" [(ngModel)]="imovel.tipo" value="2" class="form-input hidden" id="tipoApartamento">
            <label id="tipo" for="tipoApartamento" class="form-control flex flex-col border flex-1 px-4 py-3 gap-y-6 rounded-2xl hover:cursor-pointer select-none"
                    [ngClass]="{
                      'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.tipo,
                      'border-rentazul ring-2 ring-rentazul shadow-lg': imovel.tipo == 2,
                      'border-rentcinza': imovel.tipo != 2
                    }">
              <img width="40" height="40" src="https://img.icons8.com/fluency-systems-regular/40/021e43/apartment.png" alt="apartment"/>
              <span class="ml-1 text-lg">Apartamento</span>
            </label>
            <input type="radio" name="tipo" [(ngModel)]="imovel.tipo" value="3" class="form-input hidden" id="tipoUnidadeSecundaria">
            <label id="tipo" for="tipoUnidadeSecundaria" class="form-control flex flex-col border flex-1 px-4 py-3 gap-y-2 rounded-2xl hover:cursor-pointer select-none"
                    [ngClass]="{
                      'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.tipo,
                      'border-rentazul ring-2 ring-rentazul shadow-lg': imovel.tipo == 3,
                      'border-rentcinza': imovel.tipo != 3
                    }">
              <img width="40" height="40" src="https://img.icons8.com/fluency-systems-regular/40/021e43/real-estate.png" alt="real-estate"/>
              <div>
                <span class="flex ml-1 items-start text-base">Unidade</span>
                <span class="ml-1 text-base">Secundária</span>
              </div>
            </label>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-x-5 gap-y-5 text-rentazul text-xl">
            <div class="flex flex-col gap-y-3">
              <label class="truncate" for="qtdCama"><b>Quartos</b></label>
              <input [(ngModel)]="imovel.qtdQuarto" class="form-input border border-rentcinza rounded-xl py-3 text-center text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg" type="number" name="Quartos"
                      [ngClass]="{
                        'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.qtdQuarto
                      }">
              <div *ngIf="form.submitted && !imovel.qtdQuarto"  class="text-red-600 text-sm">Campo obrigatório.</div>
            </div>
            <div class="flex flex-col gap-y-3">
              <label class="truncate" for="qtdCama"><b>Camas</b></label>
              <input [(ngModel)]="imovel.qtdCama" class="form-input border border-rentcinza rounded-xl py-3 text-center text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg" type="number" name="Camas"
                      [ngClass]="{
                        'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.qtdCama
                      }">
              <div *ngIf="form.submitted && !imovel.qtdCama"  class="text-red-600 text-sm">Campo obrigatório.</div>
            </div>
            <div class="flex flex-col gap-y-3">
              <label class="truncate" for="qtdBanheiro"><b>Banheiros</b></label>
              <input [(ngModel)]="imovel.qtdBanheiro" class="form-input border border-rentcinza rounded-xl py-3 text-center text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg" type="number" name="banheiro"
                      [ngClass]="{
                        'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.qtdBanheiro,
                      }">
              <div *ngIf="form.submitted && !imovel.qtdBanheiro"  class="text-red-600 text-sm">Campo obrigatório.</div>
            </div>
        </div>
        <div class="flex flex-col">
          <div class="grid grid-cols-2 gap-x-5 gap-y-5 text-rentazul text-xl">
            <div class="flex flex-col gap-y-3">
              <label class="truncate" for="isOcupado"><b>Capacidade de pessoas</b></label>
              <input [(ngModel)]="imovel.capacidadePessoas" class="form-input border border-rentcinza rounded-xl py-3 text-center text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg" type="number" name="pessoas"
                      [ngClass]="{
                        'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.capacidadePessoas,
                      }">
              <div *ngIf="form.submitted && !imovel.capacidadePessoas" class="text-red-600 text-sm">Campo obrigatório.</div>
            </div>
            <div class="flex flex-col gap-y-3">
              <label class="text-xl" for="Endereco"><b>Endereço</b></label>
              <select class="form-input border border-rentcinza rounded-xl py-3 text-center text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg" name="Endereco" [compareWith]="compareById" [(ngModel)]="imovel.endereco" name="endereco"
                      [ngClass]="{
                        'border-red-500 ring-2 ring-red-500 ring-inset': form.submitted && !imovel.endereco
                      }">
                @for (e of enderecos; track e.id){
                  <option [ngValue]="e">
                    {{ e.rua }} - {{ e.numero }}
                  </option>
                }
              </select>
              <div *ngIf="form.submitted && !imovel.endereco" class="text-red-600 text-sm">Campo obrigatório.</div>
            </div>
          </div>
        </div>
        <div class="flex flex-col gap-y-3 text-rentazul">
          <div class="flex flex-col gap-y-3">
            <label class="text-xl" for="Descricao"><b>Descrição</b></label>
            <textarea [(ngModel)]="imovel.descricao" class="border border-rentcinza rounded-xl p-3 text-base focus:outline-none focus:border-rentazul focus:ring-2 focus:ring-rentazul focus:shadow-lg"
                        name="Descricao" placeholder="Uma bela casa na árvore com uma vista incrível..." rows="3"></textarea>
          </div>
        </div>
        <div class="flex justify-between">
          <button class="flex items-center gap-2 border-2 border-rentlaranja text-lg py-3 px-4 rounded-xl text-rentlaranja font-semibold shadow-md easy-in-out duration-100 hover:scale-105 hover:shadow-lg" (click)="voltar()">
            <img width="25" height="25" src="https://img.icons8.com/fluency-systems-filled/25/ff914d/long-arrow-left.png" alt="long-arrow-left"/>
            <span class="text-xl font-bold">Voltar</span>
          </button>
          <button class="form-button flex items-center gap-3 bg-rentlaranja text-lg py-3 px-8 rounded-xl text-rentbranco font-semibold shadow-md easy-in-out duration-100 hover:scale-105 hover:shadow-lg" type="submit">
            <span class="text-xl font-bold">Salvar</span>
            <img width="25" height="25" src="https://img.icons8.com/ios-glyphs/25/FFFFFF/checkmark--v1.png" alt="checkmark--v1"/>
          </button>
        </div>
      </div>
    </div>
  </form>

</div>
